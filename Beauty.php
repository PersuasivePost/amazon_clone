<?php
$beauty = [
    [
        'img'  => 'https://m.media-amazon.com/images/I/41gfpqs4D6L._SX522_.jpg',
        'brand'=> 'Maybelline',
        'title'=> 'Maybelline New York Fit Me Matte+Poreless Liquid Foundation Tube, 115 Ivory, 18ml',
        'reviews' => 21984,
        'bought'  => '10K+ bought in past month',
        'price'   => 229,
        'mrp'     => 299,
        'discount'=> 70,
        'del1'    => 'Wed, 23 Apr',
        'del2'    => 'Tue, 22 Apr',
        'rating'  => 4.0
    ],
    [
        'img'  => 'https://m.media-amazon.com/images/I/41YuXHKkXgL._SX522_.jpg',
        'brand'=> 'L\'Oréal Paris',
        'title'=> 'L\'Oréal Paris Revitalift Crystal Micro-Essence, 130 ml',
        'reviews' => 15480,
        'bought'  => '5K+ bought in past month',
        'price'   => 699,
        'mrp'     => 899,
        'discount'=> 200,
        'del1'    => 'Thu, 24 Apr',
        'del2'    => 'Wed, 23 Apr',
        'rating'  => 4.0
    ],
    [
        'img'  => 'https://m.media-amazon.com/images/I/31v+L+X2GgL._SY300_SX300_.jpg',
        'brand'=> 'Mamaearth',
        'title'=> 'Mamaearth Vitamin C Face Wash With Turmeric, 100 ml',
        'reviews' => 9356,
        'bought'  => '3K+ bought in past month',
        'price'   => 249,
        'mrp'     => 299,
        'discount'=> 50,
        'del1'    => 'Fri, 25 Apr',
        'del2'    => 'Thu, 24 Apr',
        'rating'  => 3.0
    ],
    [
        'img'  => 'https://m.media-amazon.com/images/I/31JKyx7lzJL._SX300_SY300_QL70_FMwebp_.jpg',
        'brand'=> 'Lakme',
        'title'=> 'Lakme Eyeconic Kajal, Deep Black, 0.35g',
        'reviews' => 24000,
        'bought'  => '15K+ bought in past month',
        'price'   => 170,
        'mrp'     => 210,
        'discount'=> 40,
        'del1'    => 'Wed, 23 Apr',
        'del2'    => 'Tue, 22 Apr',
        'rating'  => 5.0
    ],
    [
        'img'  => 'https://m.media-amazon.com/images/I/41Vd+8U-8KL._SY300_SX300_.jpg',
        'brand'=> 'Biotique',
        'title'=> 'Biotique Bio Cucumber Pore Tightening Toner, 120ml',
        'reviews' => 7000,
        'bought'  => '1K+ bought in past month',
        'price'   => 140,
        'mrp'     => 175,
        'discount'=> 35,
        'del1'    => 'Thu, 24 Apr',
        'del2'    => 'Wed, 23 Apr',
        'rating'  => 4.0
    ],
    [
        'img'  => 'https://m.media-amazon.com/images/I/41qtgMaVwfL._SX300_SY300_QL70_FMwebp_.jpg',
        'brand'=> 'Minimalist',
        'title'=> 'Minimalist 10% Niacinamide Face Serum for Acne Marks, 30ml',
        'reviews' => 4800,
        'bought'  => '2K+ bought in past month',
        'price'   => 549,
        'mrp'     => 599,
        'discount'=> 50,
        'del1'    => 'Wed, 23 Apr',
        'del2'    => 'Tue, 22 Apr',
        'rating'  => 5.0
    ],
    [
        'img'  => 'https://m.media-amazon.com/images/I/31nSub0D1fL._SX300_SY300_QL70_FMwebp_.jpg',
        'brand'=> 'Garnier',
        'title'=> 'Garnier Micellar Cleansing Water, 125ml',
        'reviews' => 11300,
        'bought'  => '4K+ bought in past month',
        'price'   => 169,
        'mrp'     => 199,
        'discount'=> 30,
        'del1'    => 'Fri, 25 Apr',
        'del2'    => 'Thu, 24 Apr',
        'rating'  => 4.0
    ],
    [
        'img'  => 'https://m.media-amazon.com/images/I/41OfmjHy83L._SX522_.jpg',
        'brand'=> 'The Face Shop',
        'title'=> 'The Face Shop Rice Water Bright Light Cleansing Oil, 150ml',
        'reviews' => 5200,
        'bought'  => '1K+ bought in past month',
        'price'   => 899,
        'mrp'     => 1150,
        'discount'=> 251,
        'del1'    => 'Wed, 23 Apr',
        'del2'    => 'Tue, 22 Apr',
        'rating'  => 4.0
    ],
    [
        'img'  => 'https://m.media-amazon.com/images/I/61xPqnsI09L._SX522_.jpg',
        'brand'=> 'Dot & Key',
        'title'=> 'Dot & Key 72 HR Hydrating Gel + Probiotics, 60ml',
        'reviews' => 3300,
        'bought'  => '2K+ bought in past month',
        'price'   => 495,
        'mrp'     => 595,
        'discount'=> 100,
        'del1'    => 'Thu, 24 Apr',
        'del2'    => 'Wed, 23 Apr',
        'rating'  => 2.0
    ],
    [
        'img'  => 'https://m.media-amazon.com/images/I/51mpdvuPi+L._SX522_.jpg',
        'brand'=> 'Plum',
        'title'=> 'Plum Green Tea Pore Cleansing Face Wash, 120ml',
        'reviews' => 11000,
        'bought'  => '3K+ bought in past month',
        'price'   => 275,
        'mrp'     => 345,
        'discount'=> 70,
        'del1'    => 'Fri, 25 Apr',
        'del2'    => 'Thu, 24 Apr',
        'rating'  => 4.0
    ],
    [
        'img'  => 'https://m.media-amazon.com/images/I/31rR8igjUBL._SX300_SY300_QL70_FMwebp_.jpg',
        'brand'=> 'Neutrogena',
        'title'=> 'Neutrogena UltraSheer Dry Touch Sunblock SPF 50+, 88ml',
        'reviews' => 9400,
        'bought'  => '3K+ bought in past month',
        'price'   => 529,
        'mrp'     => 675,
        'discount'=> 146,
        'del1'    => 'Wed, 23 Apr',
        'del2'    => 'Tue, 22 Apr',
        'rating'  => 4.0
    ],
    [
        'img'  => 'https://m.media-amazon.com/images/I/71HEOjXzmtL._SL1500_.jpg',
        'brand'=> 'WOW Skin Science',
        'title'=> 'WOW Apple Cider Vinegar Shampoo, 300ml',
        'reviews' => 18800,
        'bought'  => '4K+ bought in past month',
        'price'   => 329,
        'mrp'     => 499,
        'discount'=> 170,
        'del1'    => 'Thu, 24 Apr',
        'del2'    => 'Wed, 23 Apr',
        'rating'  => 4.0
    ],
];
?>
<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="UTF-8">
  <title>Clothes – Amazon Clone</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #e3e6e6;
    }
    header {
      background-color: #232f3e;
      color: white;
      padding: 15px 30px;
      font-size: 20px;
      font-weight: bold;
    }
    .container {
      padding: 20px;
    }
    .product-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
    }
    .product-card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      overflow: hidden;
      transition: transform 0.2s ease;
    }
    .product-card:hover {
      transform: scale(1.02);
    }
    .product-card img {
      width: 100%;
      height: 250px;
      object-fit: cover;
    }
    .product-info {
      padding: 10px;
      text-align: left;
    }
    .brand {
      font-weight: bold;
      margin: 5px 0 2px;
    }
    .title {
      font-size: 14px;
      margin: 2px 0 6px;
    }
    .rating {
      color: #FFA41C;
      font-size: 14px;
      margin-bottom: 4px;
    }
    .bought {
      font-size: 12px;
      color: #007600;
      margin-bottom: 6px;
    }
    .price {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 6px;
    }
    .price del {
      font-weight: normal;
      color: #555;
      margin-left: 6px;
    }
    .delivery {
      font-size: 12px;
      color: #555;
      line-height: 1.4;
      margin-bottom: 8px;
    }
    .add-btn {
      background-color: #f0c14b;
      color: black;
      border: 1px solid #a88734;
      border-radius: 4px;
      padding: 8px 0;
      font-weight: bold;
      cursor: pointer;
      text-align: center;
      margin: 0 auto; 
      display: block;
      width: 80%; 
    }

    footer {
      background-color: #232f3e;
      color: white;
      text-align: center;
      padding: 15px;
      margin-top: 30px;
      font-size: 12px;
    }
  
    .nav-logo {
      height: 50px;
      width: 100px; 
      display: flex;
      align-items: center;
    }

    .amazon-logo {
      max-height: 100%;
      max-width: 100%;
      object-fit: contain;
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
<header>
  <div class="navbar">
    <div class="nav-logo border">
      <a href="index.php">
        <img src="https://logos-world.net/wp-content/uploads/2020/04/Amazon-Emblem.jpg" alt="Amazon Logo" class="amazon-logo">
      </a>
    </div>
    <div class="nav-address border">
      <p class="add-first">Deliver to</p>
      <div class="add-icon">
        <i class="fa-solid fa-location-dot"></i>
        <p class="add-sec">India</p>
      </div>
    </div>
    <div class="nav-search">
      <select class="search-select">
        <option>All</option>
      </select>
      <input placeholder="Search Amazon" class="search-input">
      <div class="search-icon">
        <i class="fa-solid fa-magnifying-glass"></i>
      </div>
    </div>
    <div class="nav-signin border">
      <p><span>Hello, sign in</span></p>
      <p class="nav-second">Account & Lists</p>
    </div>
    <div class="nav-return border">
      <p><span>Returns</span></p>
      <p class="nav-second">& Orders</p>
    </div>
    <a href="view_cart.php" class="nav-cart border" style="text-decoration: none; color: white;">
      <i class="fa-solid fa-cart-shopping"></i> Cart
    </a>
  </div>

  <div class="panel">
    <div class="panel-all border">
      <i class="fa-solid fa-bars"></i> All
    </div>
    <div class="panel-ops">
      <a href="index.php"><p>Home</p></a>
      <a href="Beauty.php"><p>Beauty</p></a>
      <p>Customer Service</p>
      <p>Registry</p>
      <p>Gift Cards</p>
      <p>Sell</p>
    </div>
    <div class="panel-deals border">
      Shop deals in Beauty Category
    </div>
  </div>
</header>

<div class="container">
  <h2 style="text-align:center; margin-bottom:20px;">Beauty Products</h2>
  <div class="product-grid">
    <?php foreach ($beauty as $f): ?>
      <div class="product-card" data-id="<?= $f['title'] ?>" data-name="<?= $f['title'] ?>" data-price="<?= $f['price'] ?>">
        <img src="<?= $f['img'] ?>" alt="<?= htmlspecialchars($f['title']) ?>">
        <div class="product-info">
          <div class="brand"><?= htmlspecialchars($f['brand']) ?></div>
          <div class="title"><?= htmlspecialchars($f['title']) ?></div>
          <div class="rating">
            <?php
              $fullStars = floor($f['rating']);
              $halfStar = ($f['rating'] - $fullStars) >= 0.5;
              $emptyStars = 5 - $fullStars - ($halfStar ? 1 : 0);
              for ($i = 0; $i < $fullStars; $i++) echo '★';
              if ($halfStar) echo '½';
              for ($i = 0; $i < $emptyStars; $i++) echo '☆';
            ?>
            <?= $f['reviews'] ?>
          </div>
          <div class="bought"><?= htmlspecialchars($f['bought']) ?></div>
          <div class="price">
            ₹<?= number_format($f['price']) ?>
            <del>₹<?= number_format($f['mrp']) ?></del>
            <?php
              $discountPercent = round(($f['discount'] / $f['mrp']) * 100);
              echo "($discountPercent% off)";
            ?>
          </div>
          <div class="delivery">
            FREE delivery <?= htmlspecialchars($f['del1']) ?> on first order<br>
            Or fastest delivery <?= htmlspecialchars($f['del2']) ?>
          </div>
          <button class="add-btn">Add to Cart</button>
        </div>
      </div>
    <?php endforeach; ?>
  </div>
</div>

<footer>
  © 2025 Amazon Clone. All rights reserved.
</footer>

<script>
    document.querySelectorAll('.add-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const card = btn.closest('.product-card');
        const name  = card.dataset.name;
        const price = card.dataset.price;
        const qty   = 1;

        fetch('add_to_cart.php', {
          method: 'POST',
          headers: {'Content-Type': 'application/x-www-form-urlencoded'},
          body: `product_name=${encodeURIComponent(name)}&price=${price}&quantity=${qty}`
        })
        .then(res => res.text())
        .then(msg => alert(msg))
        .catch(err => console.error(err));
      });
    });
</script>
</body>
</html>